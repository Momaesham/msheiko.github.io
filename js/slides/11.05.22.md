
# Что такое JavaScript?

Особой красотой JavaScript не блещет, но он работает.

> Дуглас Крокфорд

---

# Script

Программы на JavaScript могут быть вставлены в любое место HTML-документа с помощью тега `<script>`.

```html
<!DOCTYPE HTML>
<html>

<body>

  <p>Перед скриптом...</p>

  <script>
    alert( 'Привет, мир!' );
  </script>

  <p>...После скрипта.</p>

</body>

</html>
```

---

# Внешние скрипты

Если у вас много JavaScript-кода, вы можете поместить его в отдельный файл.

```html
<script src="/js/script1.js"></script>
<script src="/js/script2.js"></script>
```

> Если атрибут `src` установлен, содержимое тега `script` будет игнорироваться.

---

# Инструкции

Инструкции – это синтаксические конструкции и команды, которые выполняют действия.

В нашем коде может быть столько инструкций, сколько мы захотим. Инструкции могут отделяться точкой с запятой.

> Обычно каждую инструкцию пишут на новой строке, чтобы код было легче читать

```javascript
alert('Привет');
alert('Мир');
```

---

# Комментарии

Однострочные комментарии начинаются с двойной косой черты `//`.

Многострочные комментарии начинаются косой чертой со звёздочкой `/*` и заканчиваются звёздочкой с косой чертой `*/`.


```javascript
// Этот комментарий занимает всю строку
alert('Привет');
/* Пример с двумя сообщениями.
Это - многострочный комментарий.
*/
alert('Мир');
```

> Содержимое комментария игнорируется, поэтому, если мы поместим код внутри `/* … */`, он не будет исполняться.


```javascript
/* Закомментировали код
alert('Привет');
*/
alert('Мир');
```


---

# use strict

Директива выглядит как строка: `"use strict"` или `'use strict'`.

Когда она находится в начале скрипта, весь сценарий работает в «современном» режиме.


```javascript
"use strict";

// этот код работает в современном режиме
...
```

> пока очень желательно добавлять `"use strict"`; в начале ваших скриптов

---

# Переменная

Переменная – это «именованное хранилище» для данных. Мы можем использовать переменные для хранения товаров, посетителей и других данных.

Для создания переменной в JavaScript используйте ключевое слово `let`.

Приведённая ниже инструкция создаёт (другими словами: объявляет или определяет) переменную с именем `«message»`:

```javascript
let message;
```

Теперь можно поместить в неё данные, используя оператор присваивания `=`

```javascript
let message;
message = 'Hello'; // сохранить строку
```

---

# Получение значения

 Переменная сохраняет в области памяти, связанной с ней значение. Мы можем получить к ней доступ, используя имя переменной:


 ```javascript
 let message;
message = 'Hello!';
alert(message); // показывает содержимое переменной
 ```

 > Для краткости можно совместить объявление переменной и запись данных в одну строку:

 ```javascript
 let message = 'Hello!'; // определяем переменную и присваиваем ей значение

alert(message); // Hello!
 ```

 ---

 # Изменение значений

> При изменении значения старые данные удаляются из переменной
> Мы  можем изменить значения столько раз, сколько захотим

 ```javascript
let message;

message = 'Hello!';

message = 'World!'; // значение изменено

alert(message);
 ```

 --- 

 # Копирование значений

 Мы  можем объявить две переменные и скопировать данные из одной в другую.

 ```javascript
 let hello = 'Hello world!';

let message;

// копируем значение 'Hello world' из переменной hello в переменную message
message = hello;

// теперь две переменные содержат одинаковые данные
alert(hello); // Hello world!
alert(message); // Hello world!
 ```

 ---

 # Имена

В JavaScript требуется, чтобы вы дали имена  своим переменным, свойствам и  функциям.

- Ограничений на длину имен переменных в JavaScript нет, поэтому экономить на них не стоит.
- Имя может начинатся на a-z, A-Z, $, _

# Зарезервированные слова

>arguments await break case catch class const continue debugger default delete
>do else enum eval export extends false finally for function if implements
>import in Infinity instanceof interface let NaN new null package private
>protected public return static super switch this throw true try typeof
>undefined var void while with yield


---

# Способы именования

### camelCase
camelCase должен начинаться со строчной буквы, а первая буква каждого последующего слова должна быть заглавной. Все слова при этом пишутся слитно между собой.

> Пример camelCase для имени переменной camel case var – camelCaseVar.
### snake_case

Чтобы писать в стиле snake_case, нужно просто заменить пробелы знаками подчеркивания. Все слова при этом пишутся строчными буквами. Можно использовать snake_case, смешивая его с camelCase и PascalCase, но, как по мне, при этом теряется сам смысл этого стиля.

> Пример snake_case для имени переменной snake case var – snake_case_var.
### kebab-case

kebab-case похож на snake_case, только в нем пробелы заменяются на дефисы. Слова также пишутся строчными буквами. Опять же, его можно смешивать с camelCase и PascalCase, но в этом нет смысла.

> Пример kebab-case для переменной kebab case var – kebab-case-var.
### PascalCase

В PascalCase каждое слово начинается с заглавной буквы (в отличие от camelCase, где первое слово начинается со строчной).

> Пример PascalCase для переменной pascal case var – PascalCaseVar.


---

# Константы

Чтобы объявить `константную`, то есть, `неизменяемую` переменную, используйте `const` вместо `let`:

```javascript
const myBirthday = '18.04.1982';
```

Переменные, объявленные с помощью `const`, называются `«константами»`. Их нельзя изменить. Попытка сделать это приведёт к ошибке:


```javascript
const myBirthday = '18.04.1982';

myBirthday = '01.01.2001'; // ошибка, константу нельзя перезаписать!
```

---

# Основные типы данных

Значение в JavaScript всегда относится к данным определённого типа. Например, это может быть строка или число.

Есть восемь основных типов данных в JavaScript.

Переменная в JavaScript может содержать любые данные. В один момент там может быть строка, а в другой – число:


```javascript
// Не будет ошибкой
let message = "hello";
message = 123456;
```

> Языки программирования, в которых такое возможно, называются «динамически типизированными»


---

# Число

```javascript
let n = 123;
n = 12.345;
```

*Числовой* тип данных (`number`) представляет как целочисленные значения, так и числа с плавающей точкой.

Существует множество операций для чисел, например, умножение `*`, деление `/`, сложение `+`, вычитание `-` и так далее.

Кроме обычных чисел, существуют так называемые "специальные числовые значения", которые относятся к этому типу данных: `Infinity`, `-Infinity` и `NaN`.

- `Infinity` представляет собой математическую бесконечность
- `NaN` означает вычислительную ошибку. Это результат неправильной или неопределённой математической операции

>  Если где-то в математическом выражении есть `NaN`, то результатом вычислений с его участием будет `NaN`.

> Математические операции в JavaScript "безопасны". Мы можем делать что угодно: делить на ноль, обращаться с нечисловыми строками как с числами и т.д.

> Скрипт никогда не остановится с фатальной ошибкой (не "умрёт"). В худшем случае мы получим `NaN` как результат выполнения.

---

# Строка

Строка (`string`) в JavaScript должна быть заключена в кавычки.

```javascript
let str = "Привет";
let str2 = 'Одинарные кавычки тоже подойдут';
let phrase = `Обратные кавычки позволяют встраивать переменные ${str}`;
```

В JavaScript существует три типа кавычек.

1. Двойные кавычки: `"Привет"`.
2. Одинарные кавычки: `'Привет'`.
3. Обратные кавычки: <code>&#96;Привет&#96;</code>.

Двойные или одинарные кавычки являются "простыми", между ними нет разницы в JavaScript.

Обратные же кавычки имеют расширенную функциональность. 

> Строка может содержать ноль символов (быть пустой), один символ или множество.

---

# Булевый (логический) тип

Булевый тип (`boolean`) может принимать только два значения: `true` (истина) и `false` (ложь).

Такой тип, как правило, используется для хранения значений да/нет: `true` значит "да, правильно", а `false` значит "нет, не правильно".

Например:

```javascript
let nameFieldChecked = true; // да, поле отмечено
let ageFieldChecked = false; // нет, поле не отмечено
```

Булевые значения также могут быть результатом сравнений:

```javascript
let isGreater = 4 > 1;

alert( isGreater ); // true (результатом сравнения будет "да")
```

---
# Значение «null»

Специальное значение `null` не относится ни к одному из типов, описанных выше.

Оно формирует отдельный тип, который содержит только значение `null`:
```javascript
let age = null;
```

Это просто специальное значение, которое представляет собой «ничего», «пусто» или «значение неизвестно».

---
# Значение «undefined»
Специальное значение `undefined` также стоит особняком. Оно формирует тип из самого себя так же, как и `null`.

Оно означает, что «`значение не было присвоено`».

Если переменная объявлена, но ей не присвоено никакого значения, то её значением будет `undefined`:

```javascript
let age;

alert(age); // выведет "undefined"
```
---

# Взаимодействие: alert

Функция показывает сообщение и ждёт, пока пользователь нажмёт кнопку `"ОК"`

```javascript
alert("Hello");
```

Это небольшое окно с сообщением называется *модальным окном*. Понятие *модальное* означает, что пользователь не может взаимодействовать с интерфейсом остальной части страницы, нажимать на другие кнопки и т.д. до тех пор, пока взаимодействует с окном. В данном случае -- пока не будет нажата кнопка "OK".

# Взаимодействие: prompt

Функция `prompt` принимает два аргумента:

```javascript
result = prompt(title, [default]);
```

Этот код отобразит модальное окно с текстом, полем для ввода текста и кнопками `OK/Отмена`.

- `title`  Текст для отображения в окне.
- `default` Необязательный второй параметр, который устанавливает начальное значение в поле для текста в окне.

> Квадратные скобки вокруг `default` в описанном выше синтаксисе означают, что параметр факультативный, необязательный.


Пользователь может напечатать что-либо в поле ввода и нажать OK. Введённый текст будет присвоен переменной `result`. Пользователь также может отменить ввод нажатием на кнопку "Отмена" или нажав на клавишу `Esc`. В этом случае значением `result` станет  `null`.

> Вызов `prompt` возвращает текст, указанный в поле для ввода, или `null`, если ввод отменён пользователем.

```javascript
let age = prompt('Сколько тебе лет?', 100);

alert(`Тебе ${age} лет!`); // Тебе 100 лет!
```

---

# Взаимодействие:confirm

Синтаксис:

```javascript
result = confirm(question);
```

Функция `confirm` отображает модальное окно с текстом вопроса `question` и двумя кнопками: OK и Отмена.

Результат -- `true`, если нажата кнопка OK. В других случаях -- `false`.

Например:

```javascript
let isBoss = confirm("Ты здесь главный?");

alert( isBoss ); // true, если нажата OK
```

---

# Преобразование типов

Чаще всего операторы и функции автоматически приводят переданные им значения к нужному типу.

Например, `alert` автоматически преобразует любое значение к `строке`. `Математические операторы` преобразуют значения к `числам`.


# Строковое преобразование

Строковое преобразование происходит, когда требуется представление чего-либо в виде строки.

Также мы можем использовать функцию `String(value)`, чтобы преобразовать значение к строке:


```javascript
let value = true;
alert(typeof value); // boolean

value = String(value); // теперь value это строка "true"
alert(typeof value); // string
```

---

# Численное преобразование

Численное преобразование происходит в математических функциях и выражениях.

Например, когда операция деления `/` применяется не к числу:

```javascript 
alert( "6" / "2" ); // 3, строки преобразуются в числа
```

Мы можем использовать функцию `Number(value)`, чтобы явно преобразовать `value` к числу:

```javascript 
let str = "123";
alert(typeof str); // string

let num = Number(str); // становится числом 123

alert(typeof num); // number
```

Явное преобразование часто применяется, когда мы ожидаем получить число из строкового контекста, например из текстовых полей форм.

Если строка не может быть явно приведена к числу, то результатом преобразования будет `NaN`. Например:

```javascript 
let age = Number("Любая строка вместо числа");

alert(age); // NaN, преобразование не удалось
```

Правила численного преобразования:

| Значение |  Преобразуется в... |
|----------|-------------|
|`undefined`|`NaN`|
|`null`|`0`|
|<code>true&nbsp;/&nbsp;false</code> | `1` / `0` |
| `string` | Пробельные символы по краям обрезаются. Далее, если остаётся пустая строка, то получаем `0`, иначе из непустой строки "считывается" число. При ошибке результат `NaN`.|

Примеры:

```javascript
alert( Number("   123   ") ); // 123
alert( Number("123z") );      // NaN (ошибка чтения числа на месте символа "z")
alert( Number(true) );        // 1
alert( Number(false) );       // 0
```

> `null` и `undefined` ведут себя по-разному. Так, `null` становится нулём, тогда как `undefined` приводится к `NaN`.

---


# Логическое преобразование

Логическое преобразование самое простое.

Происходит в логических операциях (позже мы познакомимся с условными проверками и подобными конструкциями), но также может быть выполнено явно с помощью функции `Boolean(value)`.

Правило преобразования:

- Значения, которые интуитивно "пустые", вроде `0`, пустой строки, `null`, `undefined` и `NaN`, становятся `false`.
- Все остальные значения становятся `true`.


```javascript
alert( Boolean(1) ); // true
alert( Boolean(0) ); // false

alert( Boolean("Привет!") ); // true
alert( Boolean("") ); // false

alert( Boolean("0") ); // true
alert( Boolean(" ") ); // пробел это тоже true (любая непустая строка это true)
```

---

# Математика

Поддерживаются следующие математические операторы:

- Сложение `+`,
- Вычитание `-`,
- Умножение `*`,
- Деление `/`,
- Взятие остатка от деления `%`,
- Возведение в степень `**`

---

# Сложение строк при помощи бинарного +


Обычно при помощи плюса `'+'` складывают числа.

Но если бинарный оператор `'+'` применить к строкам, то он их объединяет в одну:

```javascript
let s = "моя" + "строка";
alert(s); // моястрока
```

Обратите внимание, если хотя бы один операнд является строкой, то второй будет также преобразован в строку.

Например:

```javascript
alert( '1' + 2 ); // "12"
alert( 2 + '1' ); // "21"
```

Как видите, не важно, первый или второй операнд является строкой.

Вот пример посложнее:

```javascript
alert(2 + 2 + '1' ); // будет "41", а не "221"
```

Здесь операторы работают один за другим. Первый `+` складывает два числа и возвращает `4`, затем следующий `+` объединяет результат со строкой, производя действие `4 + '1' = 41`.

Сложение и преобразование строк — это особенность бинарного плюса `+`. Другие арифметические операторы работают только с числами и всегда преобразуют операнды в числа.

Например, вычитание и деление:

```javascript
alert( 6 - '2' ); // 4, '2' приводится к числу
alert( '6' / '2' ); // 3, оба операнда приводятся к числам
```

---

# Приведение к числу, унарный +

Плюс `+` существует в двух формах: бинарной, которую мы использовали выше, и унарной.

Унарный, то есть применённый к одному значению, плюс `+` ничего не делает с числами. Но если операнд не число, унарный плюс преобразует его в число.

Например:

```javascript
// Не влияет на числа
let x = 1;
alert( +x ); // 1

let y = -2;
alert( +y ); // -2

*!*
// Преобразует не числа в числа
alert( +true ); // 1
alert( +"" );   // 0
*/!*
```

> На самом деле это то же самое, что и `Number(...)`, только короче.


---

# Приоритет операторов

В том случае, если в выражении есть несколько операторов – порядок их выполнения определяется *приоритетом*, или, другими словами, существует определённый порядок выполнения операторов.


Скобки важнее, чем приоритет, так что, если мы не удовлетворены порядком по умолчанию, мы можем использовать их, чтобы изменить приоритет

| Приоритет | Название | Обозначение |
|------------|------|------|
| ... | ... | ... |
| 15 | унарный плюс | `+` |
| 15 | унарный минус | `-` |
| 14 | возведение в степень | `**` |
| 13 | умножение | `*` |
| 13 | деление | `/` |
| 12 | сложение | `+` |
| 12 | вычитание | `-` |
| ... | ... | ... |
| 2 | присваивание | `=` |
| ... | ... | ... |


---

# Инкремент/декремент

Одной из наиболее частых числовых операций является увеличение или уменьшение на единицу.

Для этого существуют даже специальные операторы:

- `Инкремент` `++` увеличивает переменную на 1
  ```javascript
  let counter = 2;
  counter++;        // работает как counter = counter + 1, просто запись короче
  alert( counter ); // 3
  ```
- `Декремент` `--` уменьшает переменную на 1
  ```javascript 
  let counter = 2;
  counter--;        // работает как counter = counter - 1, просто запись короче
  alert( counter ); // 1
  ```

> Инкремент/декремент можно применить только к переменной. Попытка использовать его на значении, типа 5++, приведёт к ошибке.